function DC_vary_nets_by_ensemble(idx, netFolder, saveFolder, ensembleID, Vidx) 
 %{
               idx: index from cluster
    netFolder: folder containing network ensemble
ensembleID: 0 (fixed density, change size), 
                       1 (fixed wires, change density), 
                       2 (fixed size, change density)

%}
    
    % Gets connect file
    switch ensembleID
        case 0 %fixed density, change size 
            disp('Simulating networks of fixed density, changing size')
            
        case 1 %fixed wires, change density
            disp('Simulating networks of fixed wires, changing density')            
            
        case 2 %fixed size, change density
            disp('Simulating networks of fixed size, changing density')            
            
    end

    netSizes = 40:10:80;
    numSeeds = 100;
    seedIdx  = mod((idx-1), numSeeds) + 1;
    Szeidx    = floor((idx-1)/numSeeds) + 1;
    
    disp(strcat2({'Seed: ', seedIdx - 1, 'D = ', 
    disp(strcat('Seed: ', num2str(seedIdx), ', size: ', num2str(cdidx)));
    saveF1 = strcat(saveFolder, '/seed', num2str(seedIdx - 1,'%03.f'), '/');
    mkdir(saveF1)
    nets = dir(strcat(netFolder, '/*_seed_', num2str(seedIdx - 1,'%03.f'), '*.mat'))';
    connFile = nets(1).name;
    
    for i = cdidx %1:numel(cds)
        contactDistance = cds(i);
        nameComment = strcat('_sd', num2str(contactDistance));
        DC_Vsweep_for_cluster(Vidx, saveF1, 1e-2*1.05,  1e-2*1.05, 1e-2*0.05, connFile, 0 , '', contactDistance, 30, true, 1, -1, 1, 0, 0, nameComment)
    end    

     DC_Vsweep_for_cluster(Vidx, saveF1, 1.05*0.01, 1.08*0.01, 0.25*0.01, connFile, 0 , '.', -1, 30, true, true, -1, 1, true, 0.015)
   
    
    
    nets = dir(strcat(netFolder, '/*.mat'))';
    numNets = 100;
    netIdx = mod((idx-1), numNets) + 1; 
    Vidx    = floor((idx-1)/numNets) + 1;
    saveF1 = strcat(saveFolder, '/seed', num2str(netIdx - 1,'%03.f'), '/');
    mkdir(saveF1)
    DC_Vsweep_for_cluster(Vidx, saveF1, 1.05*0.01, 1.08*0.01, 0.25*0.01, nets(netIdx).name, 0 , '.', -1, 30, true, true, -1, 1, true, 0.015)

    
end